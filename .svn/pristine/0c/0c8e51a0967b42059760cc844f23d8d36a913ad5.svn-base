package m.w.sys.service;

import org.nutz.dao.Cnd;
import org.nutz.ioc.loader.annotation.IocBean;

import m.w.core.service.WxIdService;
import m.w.frs.mgserver.domain.UserToken;
import m.w.sys.domain.CommerceUser;

@IocBean(fields = "dao")
public class CommerceUserService extends WxIdService<CommerceUser> {

	public CommerceUser getUserByToken(UserToken token){
		try {
			if (token == null
					|| token.getCommerceUserId() == null) {
				return null;
			} else {
				CommerceUser user = this
						.fetch(Cnd.where("id", "=",
								token.getCommerceUserId()));

				if (user == null) {
					return null;
				} else {
					return user;
				}
			}
		} catch (Exception e) {
			e.printStackTrace();
			return null;
		}
	}
}
